# 并发和并行
- 并行：在同一时刻，有多条指令在多个处理器上同时执行
- 并发：在同一时刻，只能有一条指令执行，多个进程快速交替的执行。

# 并发编程Bug的源头
### 可见性
- 可见性问题：A线程改了共享变量的值，B线程看不见
- 解决办法：在变量修改后将新值同步回主内存，在变量读取前从主内存刷新变量值来实现可见性的。
- 如何保证可见性？
  - volatile：private volatile boolean flag;
  - 内存屏障: UnsafeFactory.getUnsafe().storeFence(); //sout的底层是synchronized，synchronized的底层也会去调用storeFence
  - synchronized
  - Lock：LockSupport.unpark(Thread.currentThread())
  - final
- 
- 
### 有序性
### 原子性

# JMM：JAVA内存模型
用于屏蔽掉各种硬件和操作系统的内存访问差异，定义了线程怎么访问共享变量和私有变量 

